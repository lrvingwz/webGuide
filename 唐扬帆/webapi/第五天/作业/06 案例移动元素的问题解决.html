<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		 * {
     		margin: 0;
  	 		padding: 0;
  		}	
		 input {
   			margin-top: 20px;
   		}

   		 div {
      		margin-top: 30px;
      		width: 200px;
      		height: 100px;
      		background-color: green;
      		position: absolute;
   		}		
	</style>
</head>
<body>
	<input type="button" value="移动到400px" id="btn1" />
	<input type="button" value="移动到800px" id="btn2" />
	<div id="dv"></div>
	<script src="common.js"></script>
	<script>	
		//点击第一个按钮移动到400px
		my$("btn1").onclick=function(){
			animate(my$("dv"),400);
		};

		//点击第二个按钮移动到800px
		my$("btn2").onclick=function(){
			animate(my$("dv"),800);
		};


		//动画函数--任意一个元素移动到目标位置
		function animate(element,target){
			//先清理定时器
			clearInterval(element.timeId);
			element.timeId=setInterval(function(){
				//获取当前的位置
				var current=element.offsetLeft;
				//每次移动的位置
				var step=10;
				//判断当前距离是否大于目标距离
				step=current<target?step:-step;
				//当前移动位置
				current+=step;
				//判断当前与目标的距离是否大于每次移动的距离
				if(Math.abs(current-target)>Math.abs(step)){
					element.style.left=current+"px";
				}else{
					//清理定时器
					clearInterval(element.timeId);
					//直接到达目标
					element.style.left=target+"px";
				}
			},20);
		}
	</script>
</body>
</html>