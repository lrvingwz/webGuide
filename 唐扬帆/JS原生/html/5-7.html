<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>用键盘控制Div</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		pre{
			line-height: 30px;
			margin-left: -70px ;
		}
		.box{
			width: 150px;
			height: 150px;
			background-color: red;
			position: absolute;
			left: 200px;
			top: 50px;
		}
	</style>
</head>
<body>
	<pre>
		红色方块为键盘操作区域，您可以进行如下操作：
		上：↑ 下：↓ 左：← 右：→
		Ctrl + 1 : 背景变为绿色
		Ctrl + 2 : 背景变为蓝色
		Ctrl + 3 : 背景变为黑色
		Ctrl + ↑ : 放大
		Ctrl + ↓ : 缩小
	</pre>
	<div class="box"></div>
	<script src="common.js"></script>
	<script>
		var flag;
		var box=document.getElementsByTagName("div")[0];
		document.onkeydown=function(event){
			var evt=event||window.event;
			switch(evt.keyCode){
				//移动
				case 37:
				box.style.left=box.offsetLeft-20+"px";
				break;
				case 38:
					if(flag){
						var oldWidth=box.offsetWidth;
                        var oldHeight=box.offsetHeight;
						box.style.width=box.offsetWidth*1.2+"px";
                    	box.style.height=box.offsetHeight*1.2+"px";
                    	box.style.left=box.offsetLeft-(box.offsetWidth - oldWidth)/2+'px';
                        box.style.top=box.offsetTop-(box.offsetHeight-oldHeight)/2+'px';
					}else{
						box.style.top=box.offsetTop-20+"px";
					}
				break;
				case 39:
				box.style.left=box.offsetLeft+20+"px";
				break;
				case 40:
					if(flag){
						var oldWidth=box.offsetWidth;
                        var oldHeight=box.offsetHeight;
						box.style.width=box.offsetWidth*0.8+"px";
                    	box.style.height=box.offsetHeight*0.8+"px";
                    	box.style.left=box.offsetLeft-(box.offsetWidth-oldWidth)/2+'px';
                        box.style.top=box.offsetTop-(box.offsetHeight-oldHeight)/2+'px';
					}else{
						box.style.top=box.offsetTop+20+"px";
					}
				break;

				//变色
				 case 17:
                    flag=true;
                break;
                case 49:
                   if(flag){
                    box.style.backgroundColor="green";
                   }
                break;
                case 50:
                   if(flag){
                    box.style.backgroundColor="blue";
                   }
                break;
                case 51:
                    if(flag){
                        box.style.backgroundColor="black";
                    }
                break;
			}
		};
		document.onkeyup=function(event){
           var evt=event||window.event;
          if(evt.keyCode==17){
              flag=false;
          }
        };
	</script>
</body>
</html>