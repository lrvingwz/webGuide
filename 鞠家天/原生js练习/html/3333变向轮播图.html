<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>自动播放一幻灯片效果</title>
    <style>
        .wrap{
            width: 490px;
            height: 170px;
            overflow: hidden;
            border: 10px solid #666666;
            border-radius: 5px;
            position: absolute;
            left: 50%;
            top: 50%;
            margin: -86px 0 0 -251px ;
        }
        .content{
            height: 100%;
            width: 100%;
            position: relative;
        }
        img{
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
        }
        .btn-group{
            position: absolute;
            bottom: 0;
            right: 0;
            display: flex;
            width: 120px;
            justify-content: space-between;
        }
        button{
            flex-basis: 20px;
            height: 20px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            background:#F90;
            opacity:0.7;
            filter:alpha(opacity=70);
            color: white;
        }
        .current{
            font-weight:700;
            background:#f60;
        }
    </style>
    <script src="../js/common.js"></script>
</head>
<body>
<div class="wrap">
    <div class="content">
        <img src="../images/01.jpg" style="opacity: 1;" />
        <img src="../images/02.jpg" />
        <img src="../images/03.jpg" />
        <img src="../images/04.jpg" />
        <img src="../images/05.jpg" />
        <div class="btn-group">
            <button class="current">1</button>
            <button>2</button>
            <button>3</button>
            <button>4</button>
            <button>5</button>
        </div>
    </div>
</div>
<script>
    var imgs=document.getElementsByTagName("img");
    var btns=document.getElementsByTagName("button");
    var num=0;
    var re=true;
    for(var i=0;i<btns.length;i++){
        btns[i].setAttribute("index",i);
        addEventListener(btns[i],"click",f0);
    }
    function f0(){
        f1(this);
    }
    function f1(ele){
        for(var j=0;j<btns.length;j++){
            btns[j].removeAttribute("class");
            imgs[j].style.opacity="0";
        }
        ele.className="current";
        animate(imgs[ele.getAttribute("index")],{"opacity":1});
        num=ele.getAttribute("index");
    }

    (function f2(){
        f3();
        setInterval(f3,3000);
        function f3(){
            f1(btns[num]);
            if(re){
                num++;
                if(num==4){
                    re=false;
                }
            }else{
                num--;
                if(num==0){
                    re=true;
                }
            }

        }
    }());
</script>
</body>
</html>